{"ast":null,"code":"import _toConsumableArray from \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\GIT\\\\loja_react_tap_2019.1\\\\src\\\\context\\\\LojaContext.js\";\nimport React, { Component } from 'react';\nimport BancoDeDados from '../bd/BancoDeDados'; // Vamos usar a nova Context API \n// 1. Primeiro a gente cria o contexto\n// Um contexto armazena um objeto value\n\nexport var LojaContext = React.createContext(); // 2. Depois a gente cria um provider\n// Um provider injeta um value em um context\n// \n// Esse componente serve apenas para colocar um valor em um contexto, e passar\n// esses valores para os componentes filhos.\n\nexport var LojaProvider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LojaProvider, _Component);\n\n  function LojaProvider() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LojaProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LojaProvider)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      produtos: BancoDeDados.getProdutos(),\n      carrinho: [],\n      carrinhoVisivel: false\n    };\n    return _this;\n  }\n\n  _createClass(LojaProvider, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(LojaContext.Provider, {\n        value: {\n          state: this.state,\n          buscar: function buscar(termo) {\n            var produtos = BancoDeDados.getProdutos().filter(function (p) {\n              return p.nome.toLowerCase().includes(termo.toLowerCase());\n            });\n\n            _this2.setState({\n              produtos: produtos\n            });\n          },\n          comprar: function comprar(produto) {\n            var carrinho = [].concat(_toConsumableArray(_this2.state.carrinho), [produto]);\n\n            _this2.setState({\n              carrinho: carrinho\n            });\n          },\n          remover: function remover(indice) {\n            var carrinho = _toConsumableArray(_this2.state.carrinho);\n\n            carrinho.splice(indice, 1);\n\n            _this2.setState({\n              carrinho: carrinho\n            });\n          },\n          mostrarCarrinho: function mostrarCarrinho() {\n            _this2.setState({\n              carrinhoVisivel: true\n            });\n          },\n          esconderCarrinho: function esconderCarrinho() {\n            _this2.setState({\n              carrinhoVisivel: false\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, this.props.children);\n    }\n  }]);\n\n  return LojaProvider;\n}(Component);","map":{"version":3,"sources":["C:\\GIT\\loja_react_tap_2019.1\\src\\context\\LojaContext.js"],"names":["React","Component","BancoDeDados","LojaContext","createContext","LojaProvider","state","produtos","getProdutos","carrinho","carrinhoVisivel","buscar","termo","filter","p","nome","toLowerCase","includes","setState","comprar","produto","remover","indice","splice","mostrarCarrinho","esconderCarrinho","props","children"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,oBAAzB,C,CAEA;AACA;AACA;;AACA,OAAO,IAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB,C,CAEP;AACA;AACA;AACA;AACA;;AACA,WAAaC,YAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UACEC,KADF,GACU;AACNC,MAAAA,QAAQ,EAAEL,YAAY,CAACM,WAAb,EADJ;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,eAAe,EAAE;AAHX,KADV;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAOW;AAAA;;AACP,aACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,QAAA,KAAK,EAAE;AACzBJ,UAAAA,KAAK,EAAE,KAAKA,KADa;AAEzBK,UAAAA,MAAM,EAAE,gBAACC,KAAD,EAAW;AACjB,gBAAIL,QAAQ,GAAGL,YAAY,CAACM,WAAb,GAA2BK,MAA3B,CAAkC,UAACC,CAAD,EAAO;AACtD,qBAAOA,CAAC,CAACC,IAAF,CAAOC,WAAP,GAAqBC,QAArB,CAA8BL,KAAK,CAACI,WAAN,EAA9B,CAAP;AACD,aAFc,CAAf;;AAGA,YAAA,MAAI,CAACE,QAAL,CAAc;AAACX,cAAAA,QAAQ,EAARA;AAAD,aAAd;AACD,WAPwB;AAQzBY,UAAAA,OAAO,EAAE,iBAACC,OAAD,EAAa;AACpB,gBAAIX,QAAQ,gCAAO,MAAI,CAACH,KAAL,CAAWG,QAAlB,IAA4BW,OAA5B,EAAZ;;AACA,YAAA,MAAI,CAACF,QAAL,CAAc;AAACT,cAAAA,QAAQ,EAARA;AAAD,aAAd;AACD,WAXwB;AAYzBY,UAAAA,OAAO,EAAE,iBAACC,MAAD,EAAY;AACnB,gBAAIb,QAAQ,sBAAO,MAAI,CAACH,KAAL,CAAWG,QAAlB,CAAZ;;AACAA,YAAAA,QAAQ,CAACc,MAAT,CAAgBD,MAAhB,EAAwB,CAAxB;;AACA,YAAA,MAAI,CAACJ,QAAL,CAAc;AAACT,cAAAA,QAAQ,EAARA;AAAD,aAAd;AACD,WAhBwB;AAiBzBe,UAAAA,eAAe,EAAE,2BAAM;AACrB,YAAA,MAAI,CAACN,QAAL,CAAc;AAACR,cAAAA,eAAe,EAAE;AAAlB,aAAd;AACD,WAnBwB;AAoBzBe,UAAAA,gBAAgB,EAAE,4BAAM;AACtB,YAAA,MAAI,CAACP,QAAL,CAAc;AAACR,cAAAA,eAAe,EAAE;AAAlB,aAAd;AACD;AAtBwB,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAwBG,KAAKgB,KAAL,CAAWC,QAxBd,CADF;AA4BD;AApCH;;AAAA;AAAA,EAAkC1B,SAAlC","sourcesContent":["import React, { Component } from 'react';\r\nimport BancoDeDados from '../bd/BancoDeDados';\r\n\r\n// Vamos usar a nova Context API \r\n// 1. Primeiro a gente cria o contexto\r\n// Um contexto armazena um objeto value\r\nexport const LojaContext = React.createContext();\r\n\r\n// 2. Depois a gente cria um provider\r\n// Um provider injeta um value em um context\r\n// \r\n// Esse componente serve apenas para colocar um valor em um contexto, e passar\r\n// esses valores para os componentes filhos.\r\nexport class LojaProvider extends Component {\r\n  state = {\r\n    produtos: BancoDeDados.getProdutos(),\r\n    carrinho: [],\r\n    carrinhoVisivel: false\r\n  };  \r\n\r\n  render() {\r\n    return (\r\n      <LojaContext.Provider value={{\r\n          state: this.state,\r\n          buscar: (termo) => {\r\n            let produtos = BancoDeDados.getProdutos().filter((p) => {\r\n              return p.nome.toLowerCase().includes(termo.toLowerCase());\r\n            });\r\n            this.setState({produtos});\r\n          },\r\n          comprar: (produto) => {\r\n            let carrinho = [...this.state.carrinho, produto];\r\n            this.setState({carrinho});\r\n          },\r\n          remover: (indice) => {\r\n            let carrinho = [...this.state.carrinho];\r\n            carrinho.splice(indice, 1);\r\n            this.setState({carrinho});\r\n          },\r\n          mostrarCarrinho: () => {\r\n            this.setState({carrinhoVisivel: true});\r\n          },\r\n          esconderCarrinho: () => {\r\n            this.setState({carrinhoVisivel: false});\r\n          }\r\n      }}>\r\n        {this.props.children}\r\n      </LojaContext.Provider>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}